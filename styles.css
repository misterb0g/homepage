/* ===== Base ===== */
:root {
  --bg: 240 8% 98%;
  --fg: 240 10% 12%;
  --muted: 240 3% 50%;
  --card: 0 0% 100% / 0.6;
  --border: 0 0% 100% / 0.25;
  --accent: 221 83% 53%;
  --shadow: 0 10px 30px rgba(0, 0, 0, .10);
  --radius: 20px;
  --space: 14px;
  --space-lg: 18px;
  --blur: 14px;
  --line: 1.15;
}

html[data-theme="dark"] {
  --bg: 240 6% 8%;
  --fg: 0 0% 100%;
  --muted: 0 0% 70%;
  --card: 0 0% 100% / 0.06;
  --border: 0 0% 100% / 0.10;
  --accent: 221 83% 60%;
  --shadow: 0 10px 30px rgba(0, 0, 0, .40);
}

html[data-density="compact"] {
  --space: 10px;
  --space-lg: 12px;
  --radius: 16px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
  color: hsl(var(--fg));
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,.6), transparent 60%),
    radial-gradient(1200px 800px at 110% -10%, rgba(255,255,255,.4), transparent 60%),
    linear-gradient(180deg, hsl(220 20% 99%), hsl(220 20% 96%));
  background-attachment: fixed;
}
html[data-theme="dark"] body {
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,.05), transparent 60%),
    radial-gradient(1200px 800px at 110% -10%, rgba(255,255,255,.03), transparent 60%),
    linear-gradient(180deg, hsl(240 6% 10%), hsl(240 5% 7%));
}

#app { min-height: 100%; display: flex; flex-direction: column; gap: var(--space-lg); }

/* ===== Glass / Cards ===== */
.glass {
  background: hsl(var(--card));
  backdrop-filter: blur(var(--blur)) saturate(1.1);
  -webkit-backdrop-filter: blur(var(--blur)) saturate(1.1);
  border: 1px solid hsl(var(--border));
  box-shadow: var(--shadow);
  border-radius: var(--radius);
}

.card { padding: var(--space-lg); }
.card-head {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: var(--space-lg);
}
.card-title { display: flex; align-items: center; gap: 10px; }
.card-title h2 { margin: 0; font-size: 16px; font-weight: 600; letter-spacing: .2px; }
.card-body { display: grid; gap: var(--space); }
.card-foot { margin-top: var(--space); font-size: 12px; color: hsl(var(--muted)); }
.hint a { color: hsl(var(--muted)); text-decoration: underline; }

/* ===== Topbar ===== */
.topbar {
  margin: var(--space-lg);
  padding: 10px 12px;
  display: flex; align-items: center; justify-content: space-between;
}
.brand { display: flex; align-items: center; gap: 10px; }
.logo {
  font-size: 18px; width: 28px; height: 28px; display: grid; place-items: center;
  border-radius: 10px; background: hsl(0 0% 100% / .3); color: hsl(var(--fg) / .7);
}
.title { font-weight: 700; letter-spacing: .3px; }

.toggles { display: flex; gap: 8px; }
.btn-icon {
  width: 36px; height: 36px; display: grid; place-items: center;
  border: 1px solid hsl(var(--border)); border-radius: 12px; background: transparent;
  cursor: pointer;
}
.btn-icon .icon { width: 18px; height: 18px; stroke: hsl(var(--fg)); fill: none; stroke-width: 2; }

/* ===== Grid layout ===== */
.grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: var(--space-lg);
  padding: 0 var(--space-lg) var(--space-lg);
  flex: 1;
}
.stack { display: grid; align-content: start; gap: var(--space-lg); }

@media (max-width: 980px) {
  .grid { grid-template-columns: 1fr; }
}

/* ===== Forms ===== */
.row { display: grid; grid-template-columns: 1fr auto; gap: var(--space); }
.input {
  width: 100%; border: 1px solid hsl(var(--border)); background: hsl(0 0% 100% / 0.5);
  border-radius: 12px; padding: 12px 14px; font-size: 14px; color: hsl(var(--fg));
  outline: none;
}
html[data-theme="dark"] .input { background: hsl(0 0% 100% / .06); }
.input:focus { border-color: hsl(var(--accent)); box-shadow: 0 0 0 3px hsl(var(--accent) / .25); }

.btn, .btn-ghost {
  border-radius: 12px; padding: 12px 14px; font-size: 14px; font-weight: 600; cursor: pointer;
  border: 1px solid hsl(var(--border));
}
.btn { background: hsl(var(--accent)); color: white; border-color: transparent; }
.btn:hover { filter: brightness(0.98); }
.btn-ghost { background: transparent; color: hsl(var(--fg)); }
.btn-ghost:hover { background: hsl(0 0% 100% / .3); }
.icon { width: 18px; height: 18px; stroke: hsl(var(--fg)); fill: none; stroke-width: 2; }

/* ===== Output ===== */
.output {
  margin-top: var(--space);
  padding: 12px 14px;
  border: 1px solid hsl(var(--border));
  border-radius: 12px;
  min-height: 44px;
  color: hsl(var(--fg));
  background: hsl(0 0% 100% / .35);
  white-space: pre-wrap;
}
html[data-theme="dark"] .output { background: hsl(0 0% 100% / .06); }

/* ===== Weather ===== */
.weather { display: grid; grid-template-columns: 1fr; gap: var(--space); }
.weather-main { display: flex; align-items: baseline; gap: 12px; }
.temp { font-size: 48px; font-weight: 700; letter-spacing: -1px; }
.cond { font-size: 16px; color: hsl(var(--muted)); }
.weather-meta { display: flex; justify-content: space-between; gap: 12px; font-size: 14px; color: hsl(var(--muted)); }

/* ===== Bookmarks ===== */
.bookmarks-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: var(--space);
}
@media (max-width: 1100px) { .bookmarks-grid { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 740px) { .bookmarks-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 460px) { .bookmarks-grid { grid-template-columns: 1fr; } }

.bm {
  display: grid;
  place-items: center;
  gap: 8px;
  padding: 14px 10px;
  text-decoration: none;
  color: hsl(var(--fg));
  background: hsl(0 0% 100% / .45);
  border: 1px solid hsl(var(--border));
  border-radius: 14px;
  transition: transform .06s ease, background .2s ease;
}
html[data-theme="dark"] .bm { background: hsl(0 0% 100% / .08); }
.bm:hover { transform: translateY(-1px); }
.bm-ico {
  width: 28px; height: 28px; border-radius: 6px;
}
.bm-title {
  font-size: 13px; font-weight: 600; text-align: center; letter-spacing: .2px;
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 100%;
}

.add-form .input { padding: 10px 12px; }
.add-form .btn { padding: 10px 12px; }

/* ===== Footer ===== */
.footer { display: grid; place-items: center; padding: var(--space-lg); color: hsl(var(--muted)); }

/* ===== Monochrome icon treatment ===== */
svg.icon { display: inline-block; vertical-align: middle; opacity: .8; }
